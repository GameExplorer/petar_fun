<template>
  <div class="timeline-container">
    <div id="1993" class="history-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight">FIRST RACE</span>
        </h2>
      </div>
      <div class="section-content">
        <img src="/Images/Sauber/sauber1993.avif" alt="First Sauber car" class="history-image"
          @error="handleImageError" />
        <div class="section-text">
          <p>
            Lehto contributed to a promising start with a 5th-place finish in
            the South African GP at Kyalami and improved on that with a 4th
            place classification at Imola, home of the San Marino GP, despite an
            engine problem.
          </p>
          <p>
            The C12 achieved six points finishes and eight non-scoring finishes
            from 32 starts. It achieved a points total of 12 and 7th place in
            the Constructors' World Championship standings.
          </p>
          <p class="source-citation">Source: F1.com</p>
        </div>
      </div>
    </div>

    <!-- 1995 Section -->
    <div id="1995" class="history-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight alt">FIRST PODIUM</span>
        </h2>
      </div>
      <div class="section-content">
        <img src="/Images/Sauber/sauber1995.png" alt="Frentzen on the podium in Monza" class="history-image"
          @error="handleImageError" />
        <div class="section-text">
          <p>
            The car was launched and raced in the season's early races with a
            distinctive narrow and drooping nose. At the San Marino GP, this was
            replaced by a more conventional raised nose carrying the front wing
            underneath on twin supports. Thus the car became a largely
            unremarkable mid-1990s F1 midfielder, although it was notable for
            being the only 1995 F1 car to feature the raised cockpit sides which
            would be mandated from 1996, and for achieving Sauber's first F1
            podium finish with Frentzen 3rd in Italy.
          </p>
          <p class="source-citation">Source: Wikipedia</p>
        </div>
      </div>
    </div>

    <!-- 2001 Section -->
    <div id="2001" class="history-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight">BEST FINISH</span>
        </h2>
      </div>
      <div class="section-content">
        <img src="/Images/Sauber/sauber2001.avif" alt="Sauber C20" class="history-image" @error="handleImageError" />
        <div class="section-text">
          <p>
            The C20 turned out to be one of Sauber's most competitive chassis,
            providing the team with a points total of 21 and fourth place in the
            Constructors' World Championship standings. The C20 achieved 11
            points finishes and 10 non-scoring finishes from 33 starts.
          </p>
          <p>
            Most of the chassis was in the blue of the beverage manufacturer Red
            Bull, the sides were painted in Petronas cyan.
          </p>
          <p class="source-citation">Source: F1.com</p>
        </div>
      </div>
    </div>

    <!-- 2008 Section -->
    <div id="2008" class="history-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight alt">FIRST WIN</span>
        </h2>
      </div>
      <div class="section-content">
        <img src="/Images/Sauber/sauber2008.avif" alt="Kubica and Heidfeld 1-2 in Canada" class="history-image"
          @error="handleImageError" />
        <div class="section-text">
          <p>
            Radical F1.08 proves highly effective, powering Robert Kubica to the
            team's first win in Canada and turning them into genuine title
            contenders, with podiums at nine other races. Late-season developments
            less effective, but still finish third with an impressive 135
            points.
          </p>
          <p>
            The car was the first to have been designed fully by BMW, following
            their purchase of the former Sauber team.
          </p>
          <p class="source-citation">Source: Wikipedia</p>
        </div>
      </div>
    </div>

    <!-- 2012 Section -->
    <div id="2012" class="history-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight">LAST PODIUM</span>
        </h2>
      </div>
      <div class="section-content">
        <img src="/Images/Sauber/sauber2012.avif" alt="Sauber C31 in Spa" class="history-image"
          @error="handleImageError" />
        <div class="section-text">
          <p>
            Season starts well, with Perez earning high praise for impressive
            podiums in Malaysia and Canada. C31 proves a competent, all-round
            package and, though inconsistent, Perez and Kobayashi add further
            podiums in Italy and Japan in the second half of the season.
          </p>
          <p>
            The Sauber C31 finished the 2012 season in a very respectable sixth
            place with 126 points, two fastest laps, four podiums and 13 Q3s.
          </p>
          <p class="source-citation">Source: F1.com</p>
        </div>
      </div>
    </div>

    <!-- 2014 Section -->
    <div id="2014" class="history-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight alt">WORST SEASON</span>
        </h2>
      </div>
      <div class="section-content">
        <img src="/Images/Sauber/sauber2014.avif" alt="Maldonado flips Guiterez in Bahrain" class="history-image"
          @error="handleImageError" />
        <div class="section-text">
          <p>
            The car was plagued by weight issues early in the season, to the point
            that, to compensate for this, a tall Sutil did not eat for two days in
            a desperate attempt to remain competitive.
          </p>
          <p>
            Ultimately, the C33 had the unfortunate distinction of being the least
            competitive Sauber ever built, as Sauber failed to score points for
            the first time in their history in 2014. In addition, due to the
            financial status of the team, both drivers were dropped at the end of
            the season to make way for a new line up of Marcus Ericsson and Felipe
            Nasr.
          </p>
          <p class="source-citation">Source: Wikipedia</p>
        </div>
      </div>
    </div>

    <!-- 2024 Section -->
    <div id="2024" class="history-section">
      <div class="section-header">
        <h2 class="section-title">
          <span class="title-highlight">KICK SAUBER</span>
        </h2>
      </div>
      <div class="section-content">
        <img src="/Images/Sauber/sauber2024.jpg" alt="Kick Sauber 2024 car" class="history-image"
          @error="handleImageError" />
        <div class="section-text">
          <p>
            Another disappointing season for Kick Sauber. They managed to score only 4 points at the Qatar GP, with Zhou
            finishing 8th in the race.
            Other than that they were always at the back of the grid both in qualifying and race. Next year they will go
            with completely new lineup of Gabriel Bortoleto and Nico Hulkenberg.
          </p>
          <p class="source-citation">Source: F1.com</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "SauberHistory",
  methods: {
    handleImageError(event) {
      event.target.src = '/Images/placeholder.png';
    }
  }
};
</script>

<style scoped>
.timeline-container {
  position: relative;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 0;
}

.timeline-container::after {
  content: '';
  position: absolute;
  width: 6px;
  background-color: #9c1e3a;
  top: 0;
  bottom: 0;
  left: 50%;
  margin-left: -3px;
  z-index: -1;
  opacity: 0.7;
}

.history-section {
  position: relative;
  padding: 3rem;
  margin-bottom: 3rem;
  background-color: #2e992e;
  border-radius: 0.5rem;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  width: 80%;
}

/* Alternating left-right pattern */
.history-section:nth-child(odd) {
  margin-left: auto;
  margin-right: 5%;
}

.history-section:nth-child(even) {
  margin-right: auto;
  margin-left: 5%;
}

/* Year badge for each section */
.history-section::before {
  content: attr(id);
  position: absolute;
  width: 4rem;
  height: 4rem;
  border-radius: 50%;
  background-color: #9c1e3a;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.25rem;
  top: 3rem;
  left: -2rem;
  z-index: 1;
}

.history-section:nth-child(odd)::before {
  left: -2rem;
}

.history-section:nth-child(even)::before {
  right: -2rem;
  left: auto;
}

.section-header {
  margin-bottom: 2rem;
}

.section-title {
  font-size: 3.5rem;
  font-weight: bold;
}

.title-highlight {
  display: inline-block;
  border-bottom: 8px solid #9c1e3a;
  padding-right: 1rem;
}

.title-highlight.alt {
  border-bottom-color: #333;
}

.section-content {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.history-image {
  width: 100%;
  height: auto;
  border-radius: 1rem;
  float: left;
  margin-right: 2rem;
  margin-bottom: 1rem;
  filter: grayscale(50%);
  transition: filter 0.3s ease, transform 0.3s ease;
  cursor: pointer;
  max-width: 100%;

  /* Keep your cool mask effect */
  --g: #0000, #000 0.5deg 90deg, #0000 91deg;
  --m: conic-gradient(from 45deg, var(--g)) 20px 0 no-repeat,
    conic-gradient(from 135deg, var(--g)) 0 20px no-repeat,
    conic-gradient(from 225deg, var(--g)) -20px 0 no-repeat,
    conic-gradient(from 315deg, var(--g)) 0 -20px no-repeat;
  -webkit-mask: var(--m);
  mask: var(--m);
}

.history-image:hover {
  filter: grayscale(0);
  transform: scale(1.02);
  -webkit-mask-position: 0 0;
  mask-position: 0 0;
}

.section-text {
  font-size: 1.5rem;
  line-height: 1.6;
}

.section-text p {
  margin-bottom: 1rem;
}

.source-citation {
  display: block;
  text-align: right;
  font-style: italic;
  color: #6c757d;
  font-size: 1rem !important;
  margin-top: 1rem;
}

/* Responsive adjustments */
@media (min-width: 768px) {
  .section-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
  }

  .history-image {
    width: 100%;
    margin: 0;
    grid-column: 1;
  }

  .section-text {
    grid-column: 2;
  }
}

@media (max-width: 768px) {
  .timeline-container::after {
    left: 2rem;
  }

  .history-section,
  .history-section:nth-child(odd),
  .history-section:nth-child(even) {
    width: calc(100% - 4rem);
    margin-left: 4rem;
    margin-right: 0;
  }

  .history-section::before,
  .history-section:nth-child(odd)::before,
  .history-section:nth-child(even)::before {
    left: -2rem;
    right: auto;
  }

  .section-title {
    font-size: 2.5rem;
  }
}

@media (max-width: 576px) {
  .section-title {
    font-size: 2rem;
  }

  .section-text {
    font-size: 1.25rem;
  }
}
</style>